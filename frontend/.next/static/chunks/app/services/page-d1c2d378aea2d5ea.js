(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{2307:function(e,t,a){Promise.resolve().then(a.bind(a,4944))},4944:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var n=a(7437),r=a(2265),c=a(3464);function i(){let[e,t]=r.useState([]),[a,i]=r.useState(null),[s,l]=r.useState({name:"Breakfast",price:9.99,currency:"USD"}),u="http://localhost:8000",o=localStorage.getItem("jwtToken"),d=o?{Authorization:"Bearer ".concat(o)}:{};async function p(){t((await c.Z.get("".concat(u,"/api/v1/services"))).data||[])}async function h(){try{i(null);let e=await c.Z.post("".concat(u,"/api/v1/services"),{service:s.name,price:s.price,currency:s.currency},{headers:{...d}});i(201===e.status?"Created":"Status ".concat(e.status)),await p()}catch(a){var e,t;i((null==a?void 0:null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.detail)||"Create failed (maybe not staff or already exists)")}}return r.useEffect(()=>{p()},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Services"}),(0,n.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,n.jsx)("input",{placeholder:"Name",value:s.name,onChange:e=>l({...s,name:e.target.value})}),(0,n.jsx)("input",{placeholder:"Price",type:"number",value:s.price,onChange:e=>l({...s,price:Number(e.target.value)})}),(0,n.jsx)("input",{placeholder:"Currency",value:s.currency,onChange:e=>l({...s,currency:e.target.value})}),(0,n.jsx)("button",{onClick:h,children:"Create"})]}),a&&(0,n.jsx)("p",{children:a}),(0,n.jsx)("ul",{children:e.map(e=>(0,n.jsxs)("li",{children:[e.service," - ",e.price," ",e.currency||"USD"]},e.id))})]})}}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=2307)}),_N_E=e.O()}]);